{"version":3,"sources":["utils/api.js","utils/auth.js","contexts/CurrentUserContext.js","images/logo-white.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/fail.svg","images/success.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_baseUrl","baseUrl","_headers","headers","response","then","res","ok","json","Promise","reject","Error","status","statusText","token","localStorage","getItem","_getResponseData","fetch","method","data","body","JSON","stringify","name","about","avatar","item","link","_id","like","all","getProfile","getInitialCards","auth","email","password","CurrentUserContext","React","createContext","Header","textLink","onSignOut","className","to","src","logo","alt","onClick","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","isLiked","likes","some","cardDeleteButtonClassName","cardLikeButtonClassName","type","length","Main","props","cards","onEditAvatar","onEditProfile","onAddPlace","map","Footer","Date","getFullYear","PopupWithForm","isOpen","action","noValidate","onSubmit","onClose","title","children","submitText","ImagePopup","isOpenCard","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","id","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","ref","AddPlacePopup","nameRef","linkRef","Login","onSubmitLogin","setEmail","setPassword","Register","onSubmitRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","picFail","picSuccess","App","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","submitTextSave","setSubmitTextSave","setLoggedIn","isSuccessPopupOpen","setSuccessPopupOpen","isFailPopupOpen","setFailPopupOpen","history","useHistory","closeAllPopups","getData","getAllData","profile","initialCards","catch","err","console","log","handleSignOut","removeItem","push","checkToken","Provider","exact","path","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","login","setItem","register","saveProfile","finally","changePhoto","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85c5b2a9.chunk.js","sourcesContent":["export class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _getResponseData(response) {\n        return response.then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(new Error(`Ошибка получения данных: ${res.status} ${res.statusText}`));\n        })\n    }\n\n    /* профиль */\n    getProfile() {\n        const token = localStorage.getItem('token');\n        return this._getResponseData(fetch(`${this._baseUrl}/users/me`, {\n            method: 'GET',\n            headers: {\n                ...this._headers,\n                \"Authorization\": `Bearer ${token}`\n            },\n        }))\n\n    }\n\n    saveProfile(data) {\n        const token = localStorage.getItem('token');\n        return this._getResponseData(fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                ...this._headers,\n                \"Authorization\": `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        }))\n    }\n\n    changePhoto(data) {\n        const token = localStorage.getItem('token');\n        return this._getResponseData(fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                ...this._headers,\n                \"Authorization\": `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        }))\n    }\n\n    /* карточки */\n    getInitialCards() {\n        const token = localStorage.getItem('token');\n        return this._getResponseData(fetch(`${this._baseUrl}/cards`, {\n            method: 'GET',\n            headers: {\n                ...this._headers,\n                \"Authorization\": `Bearer ${token}`\n            },\n        }))\n    }\n\n    addCard(item) {\n        const token = localStorage.getItem('token');\n        return this._getResponseData(fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: {\n                ...this._headers,\n                \"Authorization\": `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                name: item.name,\n                link: item.link\n            })\n        }))\n    }\n\n    deleteCard(item) {\n        const token = localStorage.getItem('token');\n        return this._getResponseData(fetch(`${this._baseUrl}/cards/${item._id}`, {\n            method: 'DELETE',\n            headers: {\n                ...this._headers,\n                \"Authorization\": `Bearer ${token}`\n            },\n        }))\n    }\n\n    changeLikeCardStatus(item, like) {\n        const token = localStorage.getItem('token');\n        if (like) {\n            return this._getResponseData(fetch(`${this._baseUrl}/cards/${item._id}/likes`, {\n                method: 'PUT',\n                headers: {\n                    ...this._headers,\n                    \"Authorization\": `Bearer ${token}`\n                },\n            }))\n        } else {\n            return this._getResponseData(fetch(`${this._baseUrl}/cards/${item._id}/likes`, {\n                method: 'DELETE',\n                headers: {\n                    ...this._headers,\n                    \"Authorization\": `Bearer ${token}`\n                },\n            }))\n        }\n    }\n\n    /** загрузка начальных данных в одном блоке */\n    getAllData() {\n        return Promise.all([this.getProfile(), this.getInitialCards()]);\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.alexey.students.nomoredomains.icu',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;\n","export class Auth {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _getResponseData(response) {\n        return response.then((res) => {\n            if (res.ok) {\n                return res.json();\n            }\n            return Promise.reject(new Error(`Ошибка получения данных: ${res.status} ${res.statusText}`));\n        })\n    }\n\n    register(email, password) {\n        return this._getResponseData(fetch(`${this._baseUrl}/signup`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                \"password\": password,\n                \"email\": email\n            })\n        }))\n    }\n\n    login(email, password) {\n        return this._getResponseData(fetch(`${this._baseUrl}/signin`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                \"password\": password,\n                \"email\": email\n            })\n        }))\n    }\n\n    checkToken(token) {\n        return this._getResponseData(fetch(`${this._baseUrl}/users/me`, {\n            method: 'GET',\n            headers: {\n                ...this._headers,\n                \"Authorization\": `Bearer ${token}`\n            }\n        }))\n    }\n}\n\nconst auth = new Auth({\n    baseUrl: 'https://api.alexey.students.nomoredomains.icu',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n})\n\nexport default auth;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/logo-white.886efbe6.svg\";","import logo from '../images/logo-white.svg';\nimport {NavLink} from 'react-router-dom';\n\nfunction Header({email, link, textLink, onSignOut}) {\n    return (\n        <header className=\"header\">\n            <NavLink to=\"/\"><img src={logo} alt=\"Лого\" className=\"logo\"/></NavLink>\n            <nav className=\"header__nav\">\n                {email && <p className=\"header__login\">{email}</p>}\n                <NavLink className=\"header__link\" to={link} onClick={onSignOut}>{textLink}</NavLink>\n            </nav>\n\n        </header>\n    )\n}\n\nexport default Header;\n","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner === currentUser._id;\n    const isLiked = card.likes.some(like => like === currentUser._id);\n\n    const cardDeleteButtonClassName = (`card__delete ${!isOwn ? 'card__delete_disable' : ''}`);\n    const cardLikeButtonClassName = `card__like ${isLiked ? 'card__like_liked' : ''}`;\n\n    function handleClick() {\n        onCardClick(card);\n    }\n\n    function handleLikeClick() {\n        onCardLike(card);\n    }\n\n    function handleDelete() {\n        onCardDelete(card);\n    }\n\n    return (\n\n        <article className=\"card\">\n            <img src={card.link} alt={card.name} className=\"card__image\" onClick={handleClick}/>\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDelete}/>\n            <div className=\"card__heading\">\n                <h2 className=\"card__title\">{card.name}</h2>\n                <div className=\"card__like-container\">\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}/>\n                    <p className=\"card__like-count\">{card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n\n    )\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n\n    const {\n        cards,\n        onEditAvatar,\n        onEditProfile,\n        onAddPlace,\n        onCardClick,\n        onCardLike,\n        onCardDelete\n    } = props;\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar\" onClick={onEditAvatar}>\n                    <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__image\"/>\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__container\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}/>\n                    </div>\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}/>\n            </section>\n\n            <section className=\"cards\">\n\n                {\n                    cards.map((card) => (\n                        <Card\n                            key={card._id}\n                            card={card}\n                            onCardClick={onCardClick}\n                            onCardLike={onCardLike}\n                            onCardDelete={onCardDelete}\n                        />\n                    ))\n                }\n\n            </section>\n\n        </main>\n\n    )\n\n}\n\nexport default Main;\n","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer;\n","function PopupWithForm(props) {\n\n    return (\n\n        <section className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\n\n            <form action=\"post\" name=\"popup__container\" className=\"popup__form\" noValidate onSubmit={props.onSubmit}>\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}/>\n\n                <h2 className=\"popup__title\">{props.title}</h2>\n\n                {props.children}\n\n                <button className=\"popup__button\">{props.submitText}</button>\n\n            </form>\n        </section>\n\n    )\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n\n    const {card, onClose} = props;\n\n    return (\n\n        <section className={`popup popup_type_image ${card.isOpenCard && 'popup_opened'}`}>\n            <figure className=\"popup__image-box\">\n                <button type=\"button\" className=\"popup__close\" onClick={onClose}/>\n                <img className=\"popup__image\" src={card.link} alt={card.name}/>\n                <figcaption className=\"popup__caption\">{card.name}</figcaption>\n            </figure>\n        </section>\n    )\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n\n    const {onClose, isOpen, submitText, onUpdateUser} = props;\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    const currentUser = React.useContext(CurrentUserContext);\n    React.useEffect(() => {\n        setName(currentUser.name || '');\n        setDescription(currentUser.about || '');\n    }, [currentUser]);\n\n    function handleOnChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleOnChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"user\"\n            title=\"Редактировать профиль\"\n            submitText={submitText}\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <label className=\"popup__field\">\n                <input className=\"popup__input popup__input_type_name\" id=\"name-input\"\n                       type=\"text\" name=\"name\" required minLength=\"2\" maxLength=\"40\"\n                       value={name} onChange={handleOnChangeName}\n                />\n                <span className=\"popup__error\" id=\"name-input-error\"/>\n            </label>\n            <label className=\"popup__field\">\n                <input className=\"popup__input popup__input_type_about\" id=\"about-input\"\n                       type=\"text\" name=\"about\" required minLength=\"2\" maxLength=\"200\"\n                       value={description} onChange={handleOnChangeDescription}\n                />\n                <span className=\"popup__error\" id=\"about-input-error\"/>\n            </label>\n        </PopupWithForm>\n\n    )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup(props) {\n\n    const {isOpen, onClose, submitText, onUpdateAvatar} = props;\n\n    const avatarRef = React.useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n        avatarRef.current.value = '';\n    }\n\n    return (\n        <PopupWithForm\n            name=\"avatar\"\n            title=\"Обновить аватар\"\n            submitText={submitText}\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <label className=\"popup__field\">\n                <input className=\"popup__input popup__input_type_place\" id=\"avatar-input\" type=\"url\"\n                       name=\"avatar\" placeholder=\"Ссылка\" required minLength=\"1\" maxLength=\"300\"\n                       ref={avatarRef}\n                />\n                <span className=\"popup__error\" id=\"avatar-input-error\"/>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup(props) {\n\n    const {submitText, isOpen, onClose, onAddPlace} = props;\n    const nameRef = React.useRef();\n    const linkRef = React.useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onAddPlace(\n            {\n                name: nameRef.current.value,\n                link: linkRef.current.value,\n            }\n        );\n        nameRef.current.value = '';\n        linkRef.current.value = '';\n    }\n\n    return (\n        <PopupWithForm\n            name=\"card\"\n            title=\"Новое место\"\n            submitText={submitText}\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <label className=\"popup__field\">\n                <input className=\"popup__input popup__input_type_place\" id=\"place-input\" type=\"text\"\n                       name=\"place\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\"\n                       ref={nameRef}\n                />\n                <span className=\"popup__error\" id=\"place-input-error\"/>\n            </label>\n            <label className=\"popup__field\">\n                <input className=\"popup__input popup__input_type_link\" id=\"link-input\" type=\"url\"\n                       name=\"link\" placeholder=\"Ссылка на картинку\" required\n                       ref={linkRef}\n                />\n                <span className=\"popup__error\" id=\"link-input-error\"/>\n            </label>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction Login({onSubmitLogin}) {\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleOnChangeEmail(evt) {\n        setEmail(evt.target.value);\n    }\n\n    function handleOnChangePassword(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleSubmitLogin(evt) {\n        evt.preventDefault();\n        onSubmitLogin(email, password);\n    }\n\n    return (\n\n        <section className=\"login\">\n            <h2 className=\"login__title\">Вход</h2>\n            <form className=\"login__form\" onSubmit={handleSubmitLogin}>\n                <input className=\"login__input login__input_type_email\" type=\"email\"\n                       required placeholder=\"Email\" onChange={handleOnChangeEmail}/>\n                <input className=\"login__input login__input_type_password\" type=\"password\"\n                       required placeholder=\"Пароль\" onChange={handleOnChangePassword}/>\n                <button className=\"login__submit\">Войти</button>\n            </form>\n        </section>\n\n    )\n}\n\nexport default Login;\n","import React from 'react';\nimport {NavLink} from \"react-router-dom\";\n\nfunction Register({onSubmitRegister}) {\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleOnChangeEmail(evt) {\n        setEmail(evt.target.value);\n    }\n\n    function handleOnChangePassword(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleSubmitRegister(evt) {\n        evt.preventDefault();\n        onSubmitRegister(email, password);\n    }\n\n    return (\n\n        <section className=\"login\">\n            <h2 className=\"login__title\">Регистрация</h2>\n            <form className=\"login__form\" onSubmit={handleSubmitRegister}>\n                <input className=\"login__input login__input_type_email\" type=\"email\" required\n                       placeholder=\"Email\" onChange={handleOnChangeEmail}/>\n                <input className=\"login__input login__input_type_password\" type=\"password\" required\n                       placeholder=\"Пароль\" onChange={handleOnChangePassword}/>\n                <button className=\"login__submit\">Зарегистрироваться</button>\n                <p className=\"login__text\">Уже зарегистрированы? <NavLink className=\"login__link\"\n                                                                          to=\"/sign-in\">Войти</NavLink></p>\n            </form>\n        </section>\n\n    )\n}\n\nexport default Register;\n","import {Redirect, Route} from 'react-router-dom';\n\nfunction ProtectedRoute({component: Component, ...props}) {\n    return (\n        <Route>\n            {\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\"/>\n            }\n        </Route>\n    )\n}\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/fail.22240a45.svg\";","export default __webpack_public_path__ + \"static/media/success.9d32fbdc.svg\";","import picFail from '../images/fail.svg';\nimport picSuccess from '../images/success.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <section className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\n\n            <div className=\"popup__form\">\n                <button type=\"button\" className=\"popup__close\" onClick={props.onClose}/>\n\n                {props.name === 'fail' && <img className=\"popup__pic\" src={picFail} alt={props.name}/>}\n                {props.name === 'success' && <img className=\"popup__pic\" src={picSuccess} alt={props.name}/>}\n\n                <h2 className=\"popup__title\">{props.title}</h2>\n\n            </div>\n        </section>\n    )\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport '../App.css';\nimport api from '../utils/api.js';\nimport auth from '../utils/auth.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport {Route, Switch, useHistory} from 'react-router-dom';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [selectedCard, setSelectedCard] = React.useState({name: '', link: '', isOpenCard: false});\n\n    const [submitTextSave, setSubmitTextSave] = React.useState('Сохранить');\n\n    // авторизация\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [isSuccessPopupOpen, setSuccessPopupOpen] = React.useState(false);\n    const [isFailPopupOpen, setFailPopupOpen] = React.useState(false);\n    const [email, setEmail] = React.useState('');\n    const history = useHistory();\n\n    React.useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            auth.checkToken(token)\n                .then((res) => {\n                    if (res) {\n                        setLoggedIn(true);\n                        setEmail(res.email);\n                        history.push('/');\n                        getData();\n                    }\n                })\n                .catch((err) => {\n                    console.log(err);\n                    localStorage.removeItem('token')\n                });\n        }\n\n    }, [])\n\n    // попапы\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard({...card, isOpenCard: true});\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setFailPopupOpen(false);\n        setSuccessPopupOpen(false);\n        setSelectedCard({name: '', link: '', isOpenCard: false});\n    }\n\n    // данные пользователя\n    function handleUpdateUser(data) {\n        setSubmitTextSave(\"Сохранение...\");\n        api.saveProfile(data)\n            .then((profile) => {\n                setCurrentUser(profile);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err))\n            .finally(() => {\n                setSubmitTextSave(\"Сохранить\");\n            });\n    }\n\n    function handleUpdateAvatar(data) {\n        setSubmitTextSave(\"Сохранение...\");\n        api.changePhoto(data)\n            .then((profile) => {\n                setCurrentUser(profile);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err))\n            .finally(() => {\n                setSubmitTextSave(\"Сохранить\");\n            });\n    }\n\n    //карточки\n\n    /* лайк карточки */\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(like => like === currentUser._id);\n\n        api.changeLikeCardStatus(card, !isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    /* удаление карточки */\n    function handleCardDelete(card) {\n        api.deleteCard(card)\n            .then(() => {\n                const newCards = cards.filter((item) => {\n                    return item._id !== card._id;\n                });\n                setCards(newCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    /* добавление карточки */\n    function handleAddPlaceSubmit(card) {\n        setSubmitTextSave(\"Сохранение...\");\n        api.addCard(card)\n            .then((data) => {\n                setCards([data, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => console.log(err))\n            .finally(() => {\n                setSubmitTextSave(\"Сохранить\");\n            });\n    }\n\n    //авторизация\n    function onSubmitRegister(email, password) {\n        if (!email || !password) {\n            return;\n        }\n        auth.register(email, password)\n            .then((res) => {\n                if (res) {\n                    setSuccessPopupOpen(true);\n                }\n            })\n            .catch(err => {\n                console.log(err);\n                setFailPopupOpen(true);\n            })\n    }\n\n    function onSubmitLogin(email, password) {\n        if (!email || !password) {\n            return;\n        }\n        auth.login(email, password)\n            .then((res) => {\n                if (res.token) {\n                    localStorage.setItem('token', res.token);\n                    setLoggedIn(true);\n                    setEmail(email)\n                    getData();\n                    history.push('/');\n                }\n            })\n            .catch((err) => {\n                console.log('err: ', err);\n                setFailPopupOpen(true);\n            })\n    }\n\n    // получение начальных данных\n    function getData() {\n        api.getAllData()\n            .then(([profile, initialCards]) => {\n                setCurrentUser(profile);\n                setCards(initialCards);\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function handleSignOut() {\n        localStorage.removeItem('token');\n        setLoggedIn(false);\n        setEmail('');\n        history.push('/sign-in');\n    }\n\n    return (\n\n        <CurrentUserContext.Provider value={currentUser}>\n            {/* <body className=\"page\"> */}\n\n            {\n                loggedIn && <Header link=\"/sign-in\" textLink=\"Выйти\" email={email} onSignOut={handleSignOut}/>\n            }\n\n            <Switch>\n\n                <ProtectedRoute exact path=\"/\"\n                                loggedIn={loggedIn}\n                                component={Main}\n                                onSignOut={handleSignOut}\n                                onEditProfile={handleEditProfileClick}\n                                onAddPlace={handleAddPlaceClick}\n                                onEditAvatar={handleEditAvatarClick}\n                                onCardClick={handleCardClick}\n                                cards={cards}\n                                email={email}\n                                onCardLike={handleCardLike}\n                                onCardDelete={handleCardDelete}\n                />\n\n                <Route path=\"/sign-in\">\n\n                    <Header link=\"/sign-up\" textLink=\"Регистрация\"/>\n                    <Login onSubmitLogin={onSubmitLogin}/>\n\n                </Route>\n                <Route path=\"/sign-up\">\n\n                    <Header link=\"/sign-in\" textLink=\"Войти\"/>\n                    <Register onSubmitRegister={onSubmitRegister}/>\n\n                </Route>\n            </Switch>\n\n            <EditProfilePopup\n                isOpen={isEditProfilePopupOpen}\n                onClose={closeAllPopups}\n                onUpdateUser={handleUpdateUser}\n                submitText={submitTextSave}\n            />\n\n            <EditAvatarPopup\n                isOpen={isEditAvatarPopupOpen}\n                onClose={closeAllPopups}\n                onUpdateAvatar={handleUpdateAvatar}\n                submitText={submitTextSave}\n            />\n\n            <AddPlacePopup\n                isOpen={isAddPlacePopupOpen}\n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit}\n                submitText={submitTextSave}\n            />\n\n            <PopupWithForm\n                name=\"confirm\"\n                title=\"Вы уверены?\"\n                submitText=\"Да\"\n            />\n\n            <InfoTooltip\n                name=\"success\"\n                isOpen={isSuccessPopupOpen}\n                onClose={closeAllPopups}\n                title=\"Вы успешно зарегистрировались!\"\n            />\n\n            <InfoTooltip\n                name=\"fail\"\n                isOpen={isFailPopupOpen}\n                onClose={closeAllPopups}\n                title=\"Что-то пошло не так! Попробуйте еще раз.\"\n            />\n\n            <ImagePopup\n                card={selectedCard}\n                onClose={closeAllPopups}\n            />\n\n            <Footer/>\n\n            {/* </body> */}\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({getCLS, getFID, getFCP, getLCP, getTTFB}) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App/>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}